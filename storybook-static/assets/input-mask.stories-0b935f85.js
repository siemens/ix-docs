const B={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"};class fe{constructor(){this.now=null,this.past=[],this.future=[]}undo(){const e=this.past.pop();e&&this.now&&(this.future.push(this.now),this.updateElement(e,"historyUndo"))}redo(){const e=this.future.pop();e&&this.now&&(this.past.push(this.now),this.updateElement(e,"historyRedo"))}updateHistory(e){if(!this.now){this.now=e;return}const r=this.now.value!==e.value,t=this.now.selection.some((s,i)=>s!==e.selection[i]);!r&&!t||(r&&(this.past.push(this.now),this.future=[]),this.now=e)}updateElement(e,r){this.now=e,this.updateElementState(e,{inputType:r,data:null})}}function ge(n,...e){return e.every(({value:r})=>r===n.value)}function me(n,...e){return e.every(({value:r,selection:t})=>r===n.value&&t[0]===n.selection[0]&&t[1]===n.selection[1])}function Ee({value:n,selection:e},r,t){const[s,i]=e,o=typeof t=="function"?t({value:n,selection:e}):t;return{value:n,selection:o==="replace"?[s,Math.max(s+r.length,i)]:[s,i]}}function _(n){return typeof n=="string"}function G(n,e,r,t){let s="";for(let i=e.length;i<n.length;i++){const o=n[i]||"",a=(t==null?void 0:t.value[i])===o;if(!_(o)||o===r&&!a)return s;s+=o}return s}function re(n,e){return Array.isArray(e)?n.length===e.length&&Array.from(n).every((r,t)=>{const s=e[t]||"";return _(s)?r===s:r.match(s)}):e.test(n)}function ve(n,e,r){let t=null,s=null;const i=Array.from(n.value).reduce((a,c,l)=>{const u=G(e,a,c,r),d=a+u,h=e[d.length]||"";return t===null&&l>=n.selection[0]&&(t=d.length),s===null&&l>=n.selection[1]&&(s=d.length),_(h)?d+h:c.match(h)?d+c:d},""),o=G(e,i,"",r);return{value:re(i+o,e)?i+o:i,selection:[t??i.length,s??i.length]}}function xe({value:n,selection:e},r){const[t,s]=e;let i=t,o=s;return{value:Array.from(n).reduce((c,l,u)=>{const d=c+l;return t===u&&(i=c.length),s===u&&(o=c.length),d.match(r)?d:c},""),selection:[i,o]}}function b(n,e,r=null){if(re(n.value,e))return n;const{value:t,selection:s}=Array.isArray(e)?ve(n,e,r):xe(n,e);return{selection:s,value:Array.isArray(e)?t.slice(0,e.length):t}}function U(n,e){if(!Array.isArray(e))return n;const[r,t]=n.selection,s=[],i=Array.from(n.value).reduce((o,a,c)=>{const l=e[c]||"";return c===r&&s.push(o.length),c===t&&s.push(o.length),_(l)&&l===a?o:o+a},"");return s.length<2&&s.push(...new Array(2-s.length).fill(i.length)),{value:i,selection:[s[0],s[1]]}}class V{constructor(e,r){this.initialElementState=e,this.maskOptions=r,this.value="",this.selection=[0,0];const{value:t,selection:s}=b(this.initialElementState,this.getMaskExpression(this.initialElementState));this.value=t,this.selection=s}addCharacters([e,r],t){const{value:s,maskOptions:i}=this,o=this.getMaskExpression({value:s.slice(0,e)+t+s.slice(r),selection:[e+t.length,e+t.length]}),a={value:s,selection:[e,r]},c=U(a,o),[l,u]=Ee(c,t,i.overwriteMode).selection,d=c.value.slice(0,l)+t,h=d.length,p=b({value:d+c.value.slice(u),selection:[h,h]},o,a);if(s.slice(0,e)===b({value:d,selection:[h,h]},o,a).value||me(this,p))throw new Error("Invalid mask value");this.value=p.value,this.selection=p.selection}deleteCharacters([e,r]){if(e===r||!r)return;const{value:t}=this,s=this.getMaskExpression({value:t.slice(0,e)+t.slice(r),selection:[e,e]}),i={value:t,selection:[e,r]},o=U(i,s),[a,c]=o.selection,l=o.value.slice(0,a)+o.value.slice(c),u=b({value:l,selection:[a,a]},s,i);this.value=u.value,this.selection=u.selection}getMaskExpression(e){const{mask:r}=this.maskOptions;return typeof r=="function"?r(e):r}}class Pe{constructor(e){this.element=e,this.listeners=[]}listen(e,r,t){const s=r;this.element.addEventListener(e,s,t),this.listeners.push(()=>this.element.removeEventListener(e,s,t))}destroy(){this.listeners.forEach(e=>e())}}const E={CTRL:1,ALT:2,SHIFT:4,META:8},R={Y:89,Z:90};function k(n,e,r){return n.ctrlKey===!!(e&E.CTRL)&&n.altKey===!!(e&E.ALT)&&n.shiftKey===!!(e&E.SHIFT)&&n.metaKey===!!(e&E.META)&&n.keyCode===r}function we(n){return k(n,E.CTRL,R.Y)||k(n,E.CTRL|E.SHIFT,R.Z)||k(n,E.META|E.SHIFT,R.Z)}function ye(n){return k(n,E.CTRL,R.Z)||k(n,E.META,R.Z)}function D(n,e){var r;const t=n.value;if(typeof e=="string")n.value=e;else{const[s,i]=e.selection;n.value=e.value,n.matches(":focus")&&((r=n.setSelectionRange)===null||r===void 0||r.call(n,s,i))}n.value!==t&&n.dispatchEvent(new Event("input",{bubbles:!0}))}function Ae({value:n,selection:e},r){const[t,s]=e;if(t!==s)return[t,s];const i=r?n.slice(t).indexOf(`
`)+1||n.length:n.slice(0,s).lastIndexOf(`
`)+1;return[r?t:i,r?i:s]}function Ce({value:n,selection:e},r){const[t,s]=e;return t!==s?[t,s]:(r?[t,s+1]:[t-1,s]).map(o=>Math.min(Math.max(o,0),n.length))}const Re=/\s+$/g,ke=/^\s+/g,K=/\s/;function Me({value:n,selection:e},r){const[t,s]=e;if(t!==s)return[t,s];if(r){const c=n.slice(t),[l]=c.match(ke)||[""],u=c.trimStart().search(K);return[t,u!==-1?t+l.length+u:n.length]}const i=n.slice(0,s),[o]=i.match(Re)||[""],a=i.trimEnd().split("").reverse().findIndex(c=>K.exec(c));return[a!==-1?s-o.length-a:0,s]}function N(n=[]){return(e,...r)=>n.reduce((t,s)=>Object.assign(Object.assign({},t),s(t,...r)),e)}function F(n,e){const r=Object.assign(Object.assign({},B),e),t=N(r.preprocessors),s=N(r.postprocessors),i=typeof n=="string"?{value:n,selection:[0,0]}:n,{elementState:o}=t({elementState:i,data:""},"validation"),a=new V(o,r),{value:c,selection:l}=s(a,i);return typeof n=="string"?c:{value:c,selection:l}}class ie extends fe{constructor(e,r){super(),this.element=e,this.maskitoOptions=r,this.isTextArea=this.element.nodeName==="TEXTAREA",this.eventListener=new Pe(this.element),this.options=Object.assign(Object.assign({},B),this.maskitoOptions),this.upcomingElementState=null,this.preprocessor=N(this.options.preprocessors),this.postprocessor=N(this.options.postprocessors),this.teardowns=this.options.plugins.map(t=>t(this.element,this.options)),this.updateHistory(this.elementState),this.eventListener.listen("keydown",t=>{if(we(t))return t.preventDefault(),this.redo();if(ye(t))return t.preventDefault(),this.undo()}),this.eventListener.listen("beforeinput",t=>{var s,i,o;const a=t.inputType.includes("Forward");switch(this.updateHistory(this.elementState),t.inputType){case"historyUndo":return t.preventDefault(),this.undo();case"historyRedo":return t.preventDefault(),this.redo();case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return this.handleDelete({event:t,isForward:a,selection:Ce(this.elementState,a)});case"deleteWordForward":case"deleteWordBackward":return this.handleDelete({event:t,isForward:a,selection:Me(this.elementState,a),force:!0});case"deleteSoftLineBackward":case"deleteSoftLineForward":case"deleteHardLineBackward":case"deleteHardLineForward":return this.handleDelete({event:t,isForward:a,selection:Ae(this.elementState,a),force:!0});case"insertCompositionText":return;case"insertReplacementText":return;case"insertLineBreak":case"insertParagraph":return this.handleEnter(t);case"insertFromPaste":case"insertText":case"insertFromDrop":default:return this.handleInsert(t,(o=(s=t.data)!==null&&s!==void 0?s:(i=t.dataTransfer)===null||i===void 0?void 0:i.getData("text/plain"))!==null&&o!==void 0?o:"")}}),this.eventListener.listen("input",()=>{this.upcomingElementState&&(this.updateElementState(this.upcomingElementState),this.upcomingElementState=null)},{capture:!0}),this.eventListener.listen("input",({inputType:t})=>{t!=="insertCompositionText"&&(this.ensureValueFitsMask(),this.updateHistory(this.elementState))}),this.eventListener.listen("compositionend",()=>{this.ensureValueFitsMask(),this.updateHistory(this.elementState)})}destroy(){this.eventListener.destroy(),this.teardowns.forEach(e=>e==null?void 0:e())}updateElementState({value:e,selection:r},t){const s=this.elementState.value;this.updateValue(e),this.updateSelectionRange(r),t&&s!==e&&this.dispatchInputEvent(t)}get elementState(){const{value:e,selectionStart:r,selectionEnd:t}=this.element;return{value:e,selection:[r??0,t??0]}}get maxLength(){const{maxLength:e}=this.element;return e===-1?1/0:e}updateSelectionRange([e,r]){var t;const{element:s}=this;s.matches(":focus")&&(s.selectionStart!==e||s.selectionEnd!==r)&&((t=s.setSelectionRange)===null||t===void 0||t.call(s,e,r))}updateValue(e){this.element.value=e}ensureValueFitsMask(){this.updateElementState(F(this.elementState,this.options),{inputType:"insertText",data:null})}dispatchInputEvent(e={inputType:"insertText",data:null}){globalThis.InputEvent&&this.element.dispatchEvent(new InputEvent("input",Object.assign(Object.assign({},e),{bubbles:!0,cancelable:!1})))}handleDelete({event:e,selection:r,isForward:t,force:s=!1}){const i={value:this.elementState.value,selection:r},[o,a]=i.selection,{elementState:c}=this.preprocessor({elementState:i,data:""},t?"deleteForward":"deleteBackward"),l=new V(c,this.options),[u,d]=c.selection;l.deleteCharacters([u,d]);const h=this.postprocessor(l,i);if(!(i.value.slice(0,o)+i.value.slice(a)===h.value&&!s&&!this.element.isContentEditable)){if(ge(i,c,l,h))return e.preventDefault(),this.updateSelectionRange(t?[d,d]:[u,u]);this.upcomingElementState=h}}handleInsert(e,r){const{options:t,maxLength:s,element:i,elementState:o}=this,{elementState:a,data:c=r}=this.preprocessor({data:r,elementState:o},"insert"),l=new V(a,t);try{l.addCharacters(a.selection,c)}catch{return e.preventDefault()}const[u,d]=a.selection,h=o.value.slice(0,u)+r+o.value.slice(d),p=this.postprocessor(l,o);if(p.value.length>s)return e.preventDefault();(h!==p.value||i.isContentEditable)&&(this.upcomingElementState=p,t.overwriteMode==="replace"&&h.length>s&&this.dispatchInputEvent({inputType:"insertText",data:r}))}handleEnter(e){(this.isTextArea||this.element.isContentEditable)&&this.handleInsert(e,`
`)}}function oe(n){return(e,r)=>{var t,s;const i=(t=e.selectionStart)!==null&&t!==void 0?t:0,o=(s=e.selectionEnd)!==null&&s!==void 0?s:0;D(e,{value:F(e.value,n||r),selection:[i,o]})}}function I(n,e,r){const t=Math.min(Number(r),Math.max(Number(e),Number(n)));return n instanceof Date?new Date(t):t}const be=[".",",","б","ю"],Te=" ",$e="​",ce="–",ae="—",S="-",O="−",le="ー",Ne=[":","."],ue=/[\\^$.*+?()[\]{}|]/g,Ie=new RegExp(ue.source);function g(n){return n&&Ie.test(n)?n.replaceAll(ue,String.raw`\$&`):n}function v(n,{prefix:e,postfix:r}){var t,s;const i=new RegExp(`^${g(e)}`),o=new RegExp(`${g(r)}$`),[a=""]=(t=n.match(i))!==null&&t!==void 0?t:[],[c=""]=(s=n.match(o))!==null&&s!==void 0?s:[],l=n.replace(i,"").replace(o,"");return{extractedPrefix:a,extractedPostfix:c,cleanValue:l}}function Se(n,e){let r="";for(let t=0;t<n.length;t++){if(n[t]!==e[t])return r;r+=n[t]}return r}function M(n){return n}function X(n){return n.replaceAll(/[０-９]/g,e=>String.fromCharCode(e.charCodeAt(0)-65248))}function _e(){return({elementState:n,data:e})=>{const{value:r,selection:t}=n;return{elementState:{selection:t,value:X(r)},data:X(e)}}}new RegExp(`[${Ne.map(g).join("")}]$`);function De(n){const e=new RegExp(`${g(n)}$`);return n?({value:r,selection:t},s)=>{if(!r&&!s.value.endsWith(n))return{value:r,selection:t};if(!r.endsWith(n)&&!s.value.endsWith(n))return{selection:t,value:r+n};const i=s.value.replace(e,""),o=s.selection[1]>=i.length,a=Se(i,r);return{selection:t,value:Array.from(n).reverse().reduce((c,l,u)=>{const d=c.length-1-u,h=a[d]===l&&o;return c[d]!==l||h?c.slice(0,d+1)+l+c.slice(d+1):c},r)}}:M}function Fe(n){return n?({value:e,selection:r},t)=>{if(e.startsWith(n)||!e&&!t.value.startsWith(n))return{value:e,selection:r};const[s,i]=r,o=Array.from(n).reduce((c,l,u)=>c[u]===l?c:c.slice(0,u)+l+c.slice(u),e),a=o.length-e.length;return{selection:[s+a,i+a],value:o}}:M}function W(n,e,r){return(t,s)=>{const i=()=>e(t,s);return t.addEventListener(n,i,r),()=>t.removeEventListener(n,i,r)}}function Le({prefix:n,postfix:e}){return({elementState:r,data:t})=>{const{cleanValue:s}=v(t,{prefix:n,postfix:e});return{elementState:r,data:s}}}function he({decimalSeparator:n,isNegativeAllowed:e,precision:r,thousandSeparator:t,prefix:s,postfix:i,decimalPseudoSeparators:o=[],pseudoMinuses:a=[],minusSign:c}){const l=Y(s),u=String.raw`\d`,d=e?`[${c}${a.map(P=>`\\${P}`).join("")}]?`:"",h=t?`[${u}${g(t).replaceAll(/\s/g,String.raw`\s`)}]*`:`[${u}]*`,p=Number.isFinite(r)?r:"",f=r>0?`([${g(n)}${o.map(g).join("")}]${u}{0,${p}})?`:"",m=Y(i);return new RegExp(`^${l}${d}${h}${f}${m}$`)}function Y(n){return n?`${n.split("").map(e=>`${g(e)}?`).join("")}`:""}function j(n,e="."){const r=!!new RegExp(`^\\D*[${O}\\${S}${ce}${ae}${le}]`).exec(n),t=g(e),s=n.replaceAll(new RegExp(`${t}(?!\\d)`,"g"),"").replaceAll(new RegExp(`[^\\d${t}]`,"g"),"").replace(e,".");return s?+`${r?S:""}${s}`:NaN}function He(n){var e;const r=String(n),[t="",s]=r.split("e-");let i=r;if(s){const[,o]=t.split("."),a=Number(s)+((e=o==null?void 0:o.length)!==null&&e!==void 0?e:0);i=n.toFixed(a)}return i}function de(n,{decimalSeparator:e,minusSign:r}){const[t="",s=""]=n.split(e),i=g(r),[,o="",a=""]=new RegExp(`^(?:[^\\d${i}])?(${i})?(.*)`).exec(t)||[];return{minus:o,integerPart:a,decimalPart:s}}function Ve({decimalSeparator:n,thousandSeparator:e,decimalPseudoSeparators:r=be}){return r.filter(t=>t!==e&&t!==n)}function Oe({decimalSeparator:n,precision:e,decimalZeroPadding:r,prefix:t,postfix:s}){return e<=0||!r?M:({value:i,selection:o})=>{const{cleanValue:a,extractedPrefix:c,extractedPostfix:l}=v(i,{prefix:t,postfix:s});if(Number.isNaN(j(a,n)))return{value:i,selection:o};const[u,d=""]=a.split(n);return{value:c+u+n+d.padEnd(e,"0")+l,selection:o}}}function Be({prefix:n,postfix:e,decimalSeparator:r,minusSign:t}){return({value:s,selection:i})=>{const[o]=i,{cleanValue:a,extractedPrefix:c,extractedPostfix:l}=v(s,{prefix:n,postfix:e}),{minus:u,integerPart:d,decimalPart:h}=de(a,{decimalSeparator:r,minusSign:t}),p=!d&&!h&&a.includes(r);return!d&&!Number(h)&&o===(u+c).length||p?{selection:i,value:c+u+l}:{value:s,selection:i}}}function We({decimalSeparator:n,decimalPseudoSeparators:e,pseudoMinuses:r,prefix:t,postfix:s,minusSign:i}){let o=!0;const a=he({decimalSeparator:n,decimalPseudoSeparators:e,pseudoMinuses:r,prefix:"",postfix:"",thousandSeparator:"",precision:1/0,isNegativeAllowed:!0,minusSign:i});return({elementState:c,data:l})=>{if(!o)return{elementState:c,data:l};o=!1;const{value:u,selection:d}=c,[h,p]=d,{extractedPrefix:f,cleanValue:m,extractedPostfix:P}=v(u,{prefix:t,postfix:s}),w=F({selection:[Math.max(h-f.length,0),I(p-f.length,0,m.length)],value:m},{mask:a}),[x,L]=w.selection;return{elementState:{selection:[x+f.length,L+f.length],value:f+w.value+P},data:l}}}function je({decimalSeparator:n,thousandSeparator:e,prefix:r,postfix:t}){const s=o=>{const a=g(e);return o.replace(new RegExp(`^(\\D+)?[0${a}]+(?=0)`),"$1").replace(new RegExp(`^(\\D+)?[0${a}]+(?=[1-9])`),"$1")},i=(o,a)=>{const c=o.slice(0,a),l=o.slice(a).startsWith("0");return c.length-s(c).length+(l?1:0)};return({value:o,selection:a})=>{const[c,l]=a,{cleanValue:u,extractedPrefix:d,extractedPostfix:h}=v(o,{prefix:r,postfix:t}),p=u.includes(n),[f="",m=""]=u.split(n),P=s(f);if(f===P)return{value:o,selection:a};const w=c-i(o,c),x=l-i(o,l);return{value:d+P+(p?n:"")+m+h,selection:[Math.max(w,0),Math.max(x,0)]}}}function Ze({min:n,max:e,decimalSeparator:r,minusSign:t}){return({value:s,selection:i})=>{const o=j(s,r),a=o>0?Math.min(o,e):Math.max(o,n);if(o&&a!==o){const c=`${a}`.replace(".",r).replace(S,t);return{value:c,selection:[c.length,c.length]}}return{value:s,selection:i}}}function Ge({decimalSeparator:n,thousandSeparator:e,decimalZeroPadding:r}){return({elementState:t,data:s},i)=>{const{value:o,selection:a}=t,[c,l]=a,u=o.slice(c,l),d=r?[n,e]:[e],h=r&&c>o.indexOf(n)&&!!u.match(/^0+$/gi);return i!=="deleteBackward"&&i!=="deleteForward"||!d.includes(u)&&!h?{elementState:t,data:s}:{elementState:{value:o,selection:i==="deleteForward"?[l,l]:[c,c]},data:s}}}function Ue({decimalSeparator:n,precision:e,prefix:r,postfix:t}){const s=new RegExp(`^\\D*${g(n)}`);return({elementState:i,data:o})=>{const{value:a,selection:c}=i,{cleanValue:l,extractedPrefix:u}=v(a,{prefix:r,postfix:t}),[d,h]=c,p=I(d-u.length,0,l.length),f=I(h-u.length,0,l.length);if(e<=0||l.slice(0,p).includes(n)||l.slice(f).includes(n)||!o.match(s))return{elementState:i,data:o};const m=/\d+/.exec(l.slice(0,p));return{elementState:i,data:m?o:`0${o}`}}}function q({validCharacter:n,pseudoCharacters:e,prefix:r,postfix:t}){const s=new RegExp(`[${e.join("")}]`,"gi");return({elementState:i,data:o})=>{const{value:a,selection:c}=i,{cleanValue:l,extractedPostfix:u,extractedPrefix:d}=v(a,{prefix:r,postfix:t});return{elementState:{selection:c,value:d+l.replace(s,n)+u},data:o.replace(s,n)}}}function Ke({decimalSeparator:n,prefix:e,postfix:r}){return({elementState:t,data:s})=>{const{value:i,selection:o}=t,[a,c]=o,{cleanValue:l}=v(i,{prefix:e,postfix:r});return{elementState:t,data:!l.includes(n)||i.slice(a,c+1).includes(n)?s:s.replaceAll(new RegExp(g(n),"gi"),"")}}}function Xe({thousandSeparator:n,decimalSeparator:e,prefix:r,postfix:t,minusSign:s}){if(!n)return M;const i=(...o)=>o.every(a=>/\s/.test(a));return({value:o,selection:a})=>{const[c,l]=a;let[u,d]=a;const{cleanValue:h,extractedPostfix:p,extractedPrefix:f}=v(o,{prefix:r,postfix:t}),{minus:m,integerPart:P,decimalPart:w}=de(h,{decimalSeparator:e,minusSign:s}),x=h.length-(m+P+(h.includes(e)?e+w:"")).length;x>0&&c&&c<=x&&(u-=x),x>0&&l&&l<=x&&(d-=x);const L=Array.from(P).reduceRight((A,C,y)=>{const H=!(!y&&C===n)&&!!A.length&&(A.length+1)%4===0,Z=C===n||i(C,n);return H&&Z?n+A:!H&&Z?(y&&y<=c&&u--,y&&y<=l&&d--,A):H?(y<c&&u++,y<l&&d++,C+n+A):C+A},"");return{value:f+m+L+(h.includes(e)?e:"")+w+p,selection:[u,d]}}}function Ye({precision:n,decimalSeparator:e,prefix:r,postfix:t}){if(n>0)return M;const s=new RegExp(`${g(e)}.*$`,"g");return({elementState:i,data:o})=>{const{value:a,selection:c}=i,{cleanValue:l,extractedPrefix:u,extractedPostfix:d}=v(a,{prefix:r,postfix:t}),[h,p]=c,f=u+l.replace(s,"")+d;return{elementState:{selection:[Math.min(h,f.length),Math.min(p,f.length)],value:f},data:o.replace(s,"")}}}const z=[0,0];function qe({decimalSeparator:n,thousandSeparator:e,prefix:r,postfix:t}){const s=je({decimalSeparator:n,thousandSeparator:e,prefix:r,postfix:t});return W("blur",i=>{const o=s({value:i.value,selection:z},{value:"",selection:z}).value;D(i,o)},{capture:!0})}function ze({min:n,max:e,decimalSeparator:r}){return W("blur",(t,s)=>{const i=j(t.value,r),o=I(i,n,e);!Number.isNaN(i)&&i!==o&&D(t,F(He(o),s))},{capture:!0})}function Je({decimalSeparator:n,prefix:e,postfix:r}){return W("blur",t=>{const{cleanValue:s,extractedPostfix:i,extractedPrefix:o}=v(t.value,{prefix:e,postfix:r}),a=o+s.replace(new RegExp(`^(\\D+)?${g(n)}`),`$10${n}`)+i;D(t,a)},{capture:!0})}function pe({max:n=Number.MAX_SAFE_INTEGER,min:e=Number.MIN_SAFE_INTEGER,precision:r=0,thousandSeparator:t=Te,decimalSeparator:s=".",decimalPseudoSeparators:i,decimalZeroPadding:o=!1,prefix:a="",postfix:c="",minusSign:l=O}={}){const u=[S,ce,ae,le,O].filter(p=>p!==t&&p!==s&&p!==l),d=Ve({decimalSeparator:s,thousandSeparator:t,decimalPseudoSeparators:i}),h=a.endsWith(s)&&r>0?`${a}${$e}`:a;return Object.assign(Object.assign({},B),{mask:he({decimalSeparator:s,precision:r,thousandSeparator:t,prefix:h,postfix:c,isNegativeAllowed:e<0,minusSign:l}),preprocessors:[_e(),We({decimalSeparator:s,decimalPseudoSeparators:d,pseudoMinuses:u,prefix:h,postfix:c,minusSign:l}),Le({prefix:h,postfix:c}),q({validCharacter:l,pseudoCharacters:u,prefix:h,postfix:c}),q({validCharacter:s,pseudoCharacters:d,prefix:h,postfix:c}),Ue({decimalSeparator:s,precision:r,prefix:h,postfix:c}),Ge({decimalSeparator:s,decimalZeroPadding:o,thousandSeparator:t}),Ye({precision:r,decimalSeparator:s,prefix:h,postfix:c}),Ke({decimalSeparator:s,prefix:h,postfix:c})],postprocessors:[Ze({decimalSeparator:s,min:e,max:n,minusSign:l}),Fe(h),De(c),Xe({decimalSeparator:s,thousandSeparator:t,prefix:h,postfix:c,minusSign:l}),Oe({decimalSeparator:s,decimalZeroPadding:o,precision:r,prefix:h,postfix:c}),Be({prefix:h,postfix:c,decimalSeparator:s,minusSign:l})],plugins:[qe({decimalSeparator:s,thousandSeparator:t,prefix:h,postfix:c}),Je({decimalSeparator:s,prefix:h,postfix:c}),ze({min:e,max:n,decimalSeparator:s})],overwriteMode:o?({value:p,selection:[f]})=>f<=p.indexOf(s)?"shift":"replace":"shift"})}const et={title:"Example/Input/Mask",tags:[],render:(n,e)=>{const r=document.createElement("ix-input");r.value=n.value;const t=new ie(r,{...pe({decimalSeparator:",",thousandSeparator:".",precision:2}),plugins:[oe()]});return e.args.maskito=t,r},beforeEach:n=>()=>{var e;(e=n.args.maskito)==null||e.destroy()},args:{value:"10000"},parameters:{design:{type:"figma",url:"https://www.figma.com/design/r2nqdNNXXZtPmWuVjIlM1Q/iX-Components---Brand-Dark?node-id=225-5535&m=dev"}}},T={args:{value:"1000001"}},$={render:(n,e)=>{const r=document.createElement("ix-input");r.value=n.value;const t=new ie(r,{...pe({precision:2,min:0}),plugins:[oe()]});return e.args.maskito=t,r},args:{value:"123.456"}};var J,Q,ee;T.parameters={...T.parameters,docs:{...(J=T.parameters)==null?void 0:J.docs,source:{originalSource:`{
  args: {
    value: '1000001'
  }
}`,...(ee=(Q=T.parameters)==null?void 0:Q.docs)==null?void 0:ee.source}}};var te,ne,se;$.parameters={...$.parameters,docs:{...(te=$.parameters)==null?void 0:te.docs,source:{originalSource:`{
  render: (args, ctx) => {
    const input = document.createElement('ix-input');
    input.value = args.value;
    const maskito = new Maskito(input as any, {
      ...maskitoNumberOptionsGenerator({
        precision: 2,
        min: 0
      }),
      plugins: [maskitoInitialCalibrationPlugin()]
    });
    ctx.args.maskito = maskito;
    return input;
  },
  args: {
    value: '123.456'
  }
}`,...(se=(ne=$.parameters)==null?void 0:ne.docs)==null?void 0:se.source}}};const tt=["Separators","Precision"];export{$ as Precision,T as Separators,tt as __namedExportsOrder,et as default};
