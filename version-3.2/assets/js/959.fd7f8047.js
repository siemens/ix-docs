"use strict";(self.webpackChunkix_documentation=self.webpackChunkix_documentation||[]).push([[959],{76940:(e,t,a)=>{function i(e){let t,a,i=new Promise((e=>t=e));const n=i=>{void 0!==i&&(a=n.current=i,null==e||e(i),null==t||t(i))};return n.current=a,n.waitForCurrent=async()=>(await i,a),n}a.d(t,{m:()=>i})},90959:(e,t,a)=>{a.r(t),a.d(t,{ix_date_dropdown:()=>r});var i=a(66835),n=a(87715),o=a(76940),s=a(84676);const r=class{constructor(e){(0,i.r)(this,e),this.dateRangeChange=(0,i.c)(this,"dateRangeChange",7),this.disabled=!1,this.format="yyyy/LL/dd",this.range=!0,this.from="",this.to="",this.minDate="",this.maxDate="",this.dateRangeId="custom",this.variant="primary",this.outline=!1,this.ghost=!1,this.loading=!1,this.showWeekNumbers=!1,this.customRangeAllowed=!0,this.dateRangeOptions=[],this.weekStartIndex=0,this.i18nCustomItem="Custom...",this.i18nDone="Done",this.i18nNoRange="No range set",this.today=n.D.now().toISO(),this.selectedDateRangeId="",this.triggerRef=(0,o.m)(),this.datePickerTouched=!1}onDateRangeIdChange(){this.onRangeListSelect(this.dateRangeId),this.updateCurrentDate(),this.setDateRangeSelection(this.dateRangeId),this.currentRangeValue&&this.onDateSelect({from:this.currentRangeValue.from,to:this.currentRangeValue.to,id:this.currentRangeValue.id})}onDateRangeOptionsChange(){this.initialize(),this.onDateRangeIdChange()}onDisabledChange(){this.disabled&&this.closeDropdown()}componentWillLoad(){this.initialize(),this.setDateRangeSelection(this.dateRangeId)}async getDateRange(){return this.currentRangeValue||{id:"",from:"",to:""}}initialize(){const e="custom"===this.dateRangeId||!this.dateRangeId&&!!this.from&&!!this.to;if(e&&this.customRangeAllowed)return this.selectedDateRangeId="custom",void this.updateCurrentDate();return!e&&!this.from?void 0:(console.warn('"from" and "range-date-id" is provided this is an invalid combination. Using "custom".'),this.selectedDateRangeId="custom",void this.updateCurrentDate())}updateCurrentDate(){this.currentRangeValue={id:this.selectedDateRangeId,from:this.from,to:this.to}}onDateSelect(e,t=!0){this.dateRangeChange.emit(e),t&&this.closeDropdown(),this.datePickerTouched=!1}onRangeListSelect(e){this.setDateRangeSelection(e)&&this.currentRangeValue&&this.onDateSelect(this.currentRangeValue)}setDateRangeSelection(e){this.selectedDateRangeId=e;const t=this.dateRangeOptions.find((t=>t.id===e));return t&&(this.currentRangeValue=t),t}closeDropdown(){const e=this.hostElement.shadowRoot.querySelector("ix-dropdown");e&&(e.show=!1)}getButtonLabel(){var e,t;if("custom"===this.selectedDateRangeId&&(null===(e=this.currentRangeValue)||void 0===e?void 0:e.from)){let e=this.currentRangeValue.from;return this.currentRangeValue.to&&(e+=` - ${this.currentRangeValue.to}`),e}if(!this.selectedDateRangeId)return this.i18nNoRange;if(!this.dateRangeOptions||0===(null===(t=this.dateRangeOptions)||void 0===t?void 0:t.length))return this.i18nNoRange;const a=this.dateRangeOptions.find((e=>e.id===this.selectedDateRangeId));return a?a.label:(console.error(`Cannot find range option with id ${this.selectedDateRangeId}`),this.i18nNoRange)}render(){var e,t,a;return(0,i.h)(i.H,{key:"8a5ae63cb553e80b85681b489b6ea97350827867"},(0,i.h)("ix-button",{key:"0608d3a9063c9b729fbdda08b9a4f4441a19d039","data-testid":"date-dropdown-trigger","data-date-dropdown-trigger":!0,variant:this.variant,ghost:this.ghost,outline:this.outline,loading:this.loading,icon:s.n,ref:this.triggerRef,disabled:this.disabled},this.getButtonLabel()),(0,i.h)("ix-dropdown",{key:"d266a82bca22d8fe1009d55a29f485778ebf8b4c","data-testid":"date-dropdown","data-date-dropdown":!0,class:"min-width max-height",trigger:this.triggerRef.waitForCurrent(),closeBehavior:"outside",placement:"bottom-start",onShowChanged:({detail:e})=>{!e&&"custom"===this.selectedDateRangeId&&this.datePickerTouched&&this.currentRangeValue&&this.onDateSelect(this.currentRangeValue)}},(0,i.h)("ix-layout-grid",{key:"c7a01092a838122a1041651c6a0f9c5eb74c2aae",noMargin:!0},(0,i.h)("ix-row",{key:"a6ed728fd08a35d8f0b3e71f115e0c258780474b"},(null===(e=this.dateRangeOptions)||void 0===e?void 0:e.length)>1&&(0,i.h)("ix-col",{key:"e698f56587ad326e808bf8972c856fb74ac60ee9",class:{"no-margin":!0,"border-right":"custom"===this.selectedDateRangeId}},this.dateRangeOptions.map((e=>(0,i.h)("ix-dropdown-item",{label:e.label,onClick:()=>this.onRangeListSelect(e.id),checked:this.selectedDateRangeId===e.id}))),(0,i.h)("div",{key:"d2c9d06535272b384b6d730c885c8c1db8071c07",hidden:!this.customRangeAllowed},(0,i.h)("ix-dropdown-item",{key:"067c2ff3f3f977876a5b554dfd0c16b67fbab5b7",label:this.i18nCustomItem,checked:"custom"===this.selectedDateRangeId,onClick:()=>this.onRangeListSelect("custom")}))),(0,i.h)("ix-col",{key:"af0d3397302ba7891efa9953f5ec2805255acc23",class:"no-margin"},"custom"===this.selectedDateRangeId&&(0,i.h)(i.F,{key:"715a8468214d59dd7f4891d78fb781c7c1987685"},(0,i.h)("ix-date-picker",{key:"cbcc5f9b33b736444359fb67fa96a22d82713013",standaloneAppearance:!1,locale:this.locale,onDateChange:e=>{e.stopPropagation(),this.currentRangeValue=Object.assign(Object.assign({},e.detail),{id:"custom"}),this.datePickerTouched=!0},onDateRangeChange:e=>e.stopPropagation(),format:this.format,range:this.range,from:this.from||(null===(t=this.currentRangeValue)||void 0===t?void 0:t.from),to:this.to||(null===(a=this.currentRangeValue)||void 0===a?void 0:a.to),minDate:this.minDate,maxDate:this.maxDate,today:this.today,weekStartIndex:this.weekStartIndex,showWeekNumbers:this.showWeekNumbers}),(0,i.h)("div",{key:"d98f59b3e959f64fd5d7c4be6e19486616568865",class:"pull-right"},(0,i.h)("ix-button",{key:"e30da682a1d4fecd958b6ed3c70d5f4bccc3e141",onClick:()=>{this.currentRangeValue&&this.onDateSelect(this.currentRangeValue)}},this.i18nDone))))))))}get hostElement(){return(0,i.g)(this)}static get watchers(){return{dateRangeId:["onDateRangeIdChange"],to:["onDateRangeIdChange"],from:["onDateRangeIdChange"],dateRangeOptions:["onDateRangeOptionsChange"],disabled:["onDisabledChange"]}}};r.style=":host{display:inline-block;position:relative}:host *,:host *::after,:host *::before{box-sizing:border-box}:host ::-webkit-scrollbar-button{display:none}@-moz-document url-prefix(){:host *{scrollbar-color:var(--theme-scrollbar-thumb--background) var(--theme-scrollbar-track--background);scrollbar-width:thin}}:host ::-webkit-scrollbar{width:0.5rem;height:0.5rem}:host ::-webkit-scrollbar-track{border-radius:5px;background:var(--theme-scrollbar-track--background)}:host ::-webkit-scrollbar-track:hover{background:var(--theme-scrollbar-track--background--hover)}:host ::-webkit-scrollbar-thumb{border-radius:5px;background:var(--theme-scrollbar-thumb--background)}:host ::-webkit-scrollbar-thumb:hover{background:var(--theme-scrollbar-thumb--background--hover)}:host ::-webkit-scrollbar-corner{display:none}@media (max-width: 48em){:host .min-width{width:-moz-min-content;width:min-content}}@media (min-width: 48em){:host .border-right{border-right:var(--theme-x-weak-bdr-2)}}:host ix-button{width:100%}:host .max-height{max-height:-moz-max-content;max-height:max-content}:host .no-margin{margin:0;padding:0}:host .pull-right{float:right;padding:0 1rem 0.75rem 1rem}"}}]);