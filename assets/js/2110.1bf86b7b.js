"use strict";(self.webpackChunkix_documentation=self.webpackChunkix_documentation||[]).push([[2110],{25711:(t,e,i)=>{function s(t){return null!==t&&void 0!==t.getDropdownItemElement&&"function"==typeof t.getDropdownItemElement}i.d(e,{d:()=>n,h:()=>s});const n=new class{constructor(){this.dropdowns=new Map,this.submenuIds={},this.isWindowListenerActive=!1}connected(t){this.isWindowListenerActive||this.addOverlayListeners(),this.dropdowns.set(t.getId(),t),t.discoverAllSubmenus&&this.discoverSubmenus()}disconnected(t){const e=t.getId();this.removeFromSubmenuIds(e),this.dropdowns.delete(e)}removeFromSubmenuIds(t){this.dropdowns.forEach((e=>{const i=this.submenuIds[e.getId()];if(i){const e=i.indexOf(t);e>-1&&i.splice(e,1)}})),delete this.submenuIds[t]}getDropdownById(t){return this.dropdowns.get(t)}discoverSubmenus(){this.dropdowns.forEach((t=>{t.discoverSubmenu()}))}present(t){var e;!t.isPresent()&&(null===(e=t.willPresent)||void 0===e?void 0:e.call(t))&&(this.submenuIds[t.getId()]=t.getAssignedSubmenuIds(),t.present())}dismissChildren(t){const e=this.submenuIds[t]||[];for(const i of e){const t=this.dropdowns.get(i);t&&this.dismiss(t)}}dismiss(t){var e;t.isPresent()&&(null===(e=t.willDismiss)||void 0===e?void 0:e.call(t))&&(this.dismissChildren(t.getId()),t.dismiss(),delete this.submenuIds[t.getId()])}dismissAll(t=[],e=!1){this.dropdowns.forEach((i=>{const s="inside"===i.closeBehavior||!1===i.closeBehavior,n=t.includes(i.getId()),o=this.buildComposedPath(i.getId(),new Set);if(t.length>0&&e){let e=!1;if(t.forEach((t=>{o.has(t)&&(e=!0)})),!e)return}!n&&s||this.dismiss(i)}))}dismissOthers(t){let e=this.buildComposedPath(t,new Set);e.add(t),this.dropdowns.forEach((t=>{"inside"===t.closeBehavior||!1===t.closeBehavior||e.has(t.getId())||this.dismiss(t)}))}pathIncludesTrigger(t){for(let e of t)if(e instanceof HTMLElement&&e.hasAttribute("data-ix-dropdown-trigger"))return e}pathIncludesDropdown(t){return!!t.find((t=>"IX-DROPDOWN"===t.tagName))}buildComposedPath(t,e){this.submenuIds[t]&&e.add(t);for(const i of Object.keys(this.submenuIds))this.submenuIds[i].includes(t)&&this.buildComposedPath(i,e).forEach((t=>e.add(t)));return e}addOverlayListeners(){this.isWindowListenerActive=!0,window.addEventListener("click",(t=>{const e=this.pathIncludesTrigger(t.composedPath()),i=this.pathIncludesDropdown(t.composedPath());e||i||this.dismissAll()})),window.addEventListener("keydown",(t=>{"Escape"===t.key&&this.dismissAll([...this.dropdowns.keys()])}))}}},92110:(t,e,i)=>{i.r(e),i.d(e,{ix_tree:()=>d});var s=i(32260),n=i(25711),o=i(61086);const r=t=>!Number.isNaN(Number(t));class h{static create(t,e=h.defaultConfig){return new h(t,e)}static mergeStyle(t,e){for(let i in e)t.style[i]!==e[i]&&(t.style[i]=e[i])}static getMaxBrowserHeight(){const t=document.createElement("div"),e=document.createElement("div");h.mergeStyle(t,{position:"absolute",height:"1px",opacity:0}),h.mergeStyle(e,{height:"1e7px"}),t.appendChild(e),document.body.appendChild(t);const i=e.offsetHeight;return document.body.removeChild(t),i}constructor(t,e){this._lastRepaint=null,this._maxElementHeight=h.getMaxBrowserHeight(),this.refresh(t,e);const i=this._config,s=()=>{const t=this._getScrollPosition(),e=this._lastRepaint;if(this._renderAnimationFrame=window.requestAnimationFrame(s),t===e)return;const n=e?t-e:0;if(!e||n<0||n>this._averageHeight){let e=this._renderChunk();this._lastRepaint=t,!1!==e&&"function"==typeof i.afterRender&&i.afterRender()}};s()}destroy(){window.cancelAnimationFrame(this._renderAnimationFrame)}refresh(t,e=h.defaultConfig){if(this._config=e,!t||1!==t.nodeType)throw new Error("HyperList requires a valid DOM Node container");this._element=t;const i=this._config,s=this._scroller||i.scroller||document.createElement(i.scrollerTagName||"tr");if("boolean"!=typeof i.useFragment&&(this._config.useFragment=!0),!i.generate)throw new Error("Missing required `generate` function");if(!r(i.total))throw new Error("Invalid required `total` value, expected number");if(!Array.isArray(i.itemHeight)&&!r(i.itemHeight))throw new Error("\n        Invalid required `itemHeight` value, expected number or array\n      ".trim());r(i.itemHeight)?this._itemHeights=Array(i.total).fill(i.itemHeight):this._itemHeights=[i.itemHeight],Object.keys(h.defaultConfig).filter((t=>t in i)).forEach((t=>{const e=i[t],s=r(e);if(e&&"string"!=typeof e&&"number"!=typeof e){throw new Error(`Invalid optional \`${t}\`, expected string or number`)}s&&(i[t]=`${e}px`)}));const n=Boolean(i.horizontal),o=i[n?"width":"height"];if(o){const t=r(o),e=!t&&"%"===o.slice(-1),i=t?parseInt(o,10):parseInt(o.replace(/px|%/,""),10),s=window[n?"innerWidth":"innerHeight"];this._containerSize=e?s*i/100:r(o)?o:i}const d=i.scrollContainer,l=i.itemHeight*i.total,a=this._maxElementHeight;l>a&&console.warn(["HyperList: The maximum element height",a+"px has","been exceeded; please reduce your item height."].join(" "));const c={width:`${i.width}`,height:d?`${l}px`:`${i.height}`,overflow:d?"none":"auto",position:"relative"};h.mergeStyle(t,c),d&&h.mergeStyle(i.scrollContainer,{overflow:"auto"});const m={opacity:"0",position:"absolute",[n?"height":"width"]:"1px",[n?"width":"height"]:`${l}px`};h.mergeStyle(s,m),this._scroller||t.appendChild(s);const u=this._computeScrollPadding();this._scrollPaddingBottom=u.bottom,this._scrollPaddingTop=u.top,this._scroller=s,this._scrollHeight=this._computeScrollHeight(),this._itemPositions=this._itemPositions||Array(i.total).fill(0),this._computePositions(0),this._renderChunk(null!==this._lastRepaint),"function"==typeof i.afterRender&&i.afterRender()}_getRow(t){const e=this._config;let i=e.generate(t),s=i.height;if(void 0!==s&&r(s)?(i=i.element,s!==this._itemHeights[t]&&(this._itemHeights[t]=s,this._computePositions(t),this._scrollHeight=this._computeScrollHeight())):s=this._itemHeights[t],!i||1!==i.nodeType)throw new Error(`Generator did not return a DOM Node for index: ${t}`);var n,o;n=i,o=e.rowClassName||"vrow",n.classList.add(o);const d=this._itemPositions[t]+this._scrollPaddingTop;return h.mergeStyle(i,{position:"absolute",[e.horizontal?"left":"top"]:`${d}px`}),i}_getScrollPosition(){const t=this._config;return"function"==typeof t.overrideScrollPosition?t.overrideScrollPosition():this._element[t.horizontal?"scrollLeft":"scrollTop"]}_renderChunk(t=!1){const e=this._config,i=this._element,s=this._getScrollPosition(),n=e.total;let o=this._getFrom(s)-1;if((o<0||o-this._screenItemsLen<0)&&(o=0),!t&&this._lastFrom===o)return!1;this._lastFrom=o;let r=o+this._cachedItemsLen;(r>n||r+this._cachedItemsLen>n)&&(r=n);const h=e.useFragment?document.createDocumentFragment():[],d=this._scroller;h[e.useFragment?"appendChild":"push"](d);for(let l=o;l<r;l++){let t=this._getRow(l);h[e.useFragment?"appendChild":"push"](t)}if(e.applyPatch)return e.applyPatch(i,h);i.innerHTML="",i.appendChild(h)}_computePositions(t=1){const e=this._config.total;t<1&&(t=1);for(let i=t;i<e;i++)this._itemPositions[i]=this._itemHeights[i-1]+this._itemPositions[i-1]}_computeScrollHeight(){const t=this._config,e=Boolean(t.horizontal),i=t.total,s=this._itemHeights.reduce(((t,e)=>t+e),0)+this._scrollPaddingBottom+this._scrollPaddingTop;h.mergeStyle(this._scroller,{opacity:0,position:"absolute",top:"0px",[e?"height":"width"]:"1px",[e?"width":"height"]:`${s}px`});const n=this._itemHeights.slice(0).sort(((t,e)=>t-e)),o=Math.floor(i/2),r=i%2==0?(n[o]+n[o-1])/2:n[o],d=e?"clientWidth":"clientHeight",l=t.scrollContainer?t.scrollContainer:this._element,a=l[d]?l[d]:this._containerSize;return this._screenItemsLen=Math.ceil(a/r),this._containerSize=a,this._cachedItemsLen=Math.max(this._cachedItemsLen||0,3*this._screenItemsLen),this._averageHeight=r,s}_computeScrollPadding(){const t=this._config,e=Boolean(t.horizontal),i=window.getComputedStyle(this._element),s=t=>{const e=i.getPropertyValue(`padding-${t}`);return parseInt(e,10)||0};return e?{bottom:s("right"),top:s("left")}:{bottom:s("bottom"),top:s("top")}}_getFrom(t){let e=0;for(;this._itemPositions[e]<t;)e++;return e}}h.defaultConfig={width:"100%",height:"100%"};const d=class{constructor(t){(0,s.r)(this,t),this.contextChange=(0,s.c)(this,"contextChange",7),this.nodeToggled=(0,s.c)(this,"nodeToggled",7),this.nodeClicked=(0,s.c)(this,"nodeClicked",7),this.nodeRemoved=(0,s.c)(this,"nodeRemoved",7),this.root="root",this.model={},this.context={},this.updates=new Map,this.hasFirstRender=!1,this.dirtyItems=new Set}updatePadding(t,e){t.style.paddingLeft=e.level+"rem"}getVirtualizerOptions(t){const e=this.buildTreeList(this.model[this.root]);return{width:"100%",height:"100%",itemHeight:32,total:e.length,generate:i=>{const s=e[i],n=this.hostElement.querySelector(`[data-tree-node-id="${s.id}"]`),r=this.getContext(s.id);if(n&&!1===t.force){n.hasChildren=s.hasChildren,n.context=Object.assign({},r);let t=this.dirtyItems.has(s.id);if(this.updates.has(s.id)){const e=this.updates.get(s.id);if(e){const i=e(s,Object.assign({},this.context));"boolean"==typeof i&&(t=i)}}if(this.updatePadding(n,s),!t)return n}const h=t=>{this.updates.set(s.id,t)};let d=null;this.renderItem&&(d=this.renderItem(i,s,e,Object.assign({},this.context),h)),null===d&&(d=(0,o.r)(s,r,h));const l=d;return l.setAttribute("data-tree-node-id",s.id),l.style.paddingRight="1rem",this.updatePadding(l,s),this.dirtyItems.delete(s.id),l}}}setContext(t,e){this.context=Object.assign(Object.assign({},this.context),{[t]:e}),this.contextChange.emit(this.context)}getContext(t){return this.context?(this.context[t]||(this.context[t]={isExpanded:!1,isSelected:!1}),this.context[t]):{isExpanded:!1,isSelected:!1}}buildTreeList(t,e=0){const i=[];if(null==t?void 0:t.hasChildren){const s=e+1;t.children.forEach((t=>{const n=this.model[t],o=this.getContext(t);i.push(Object.assign(Object.assign({},n),{level:e})),n.hasChildren&&o.isExpanded&&i.push(...this.buildTreeList(n,s))}))}return i}componentDidLoad(){this.initList(),this.observer=new MutationObserver((t=>{let e=[];t.forEach((t=>{e=[...e,...Array.from(t.removedNodes)],t.addedNodes.forEach((t=>{const i=e.indexOf(t);i>=0&&e.splice(i,1)}))})),this.nodeRemoved.emit(e)})),this.observer.observe(this.hostElement,{childList:!0})}componentWillRender(){this.hasFirstRender=!0,this.isListInitialized()?this.refreshTree():this.initList()}connectedCallback(){this.hasFirstRender&&this.initList()}disconnectedCallback(){var t,e;null===(t=this.hyperlist)||void 0===t||t.destroy(),null===(e=this.observer)||void 0===e||e.disconnect()}onModelChange(){this.hasFirstRender&&!this.isListInitialized()&&this.initList()}async markItemsAsDirty(t){t.forEach((t=>this.dirtyItems.add(t)))}isListInitialized(){var t;const e=null===(t=this.hyperlist)||void 0===t?void 0:t._itemPositions;return void 0!==e&&e.length&&!(null==e?void 0:e.some((t=>void 0===t||Number.isNaN(t))))}async refreshTree(t=o.d){this.hyperlist&&this.hyperlist.refresh(this.hostElement,this.getVirtualizerOptions(t))}initList(){var t;if(!this.model)return;null===(t=this.hyperlist)||void 0===t||t.destroy();const e=this.getVirtualizerOptions(o.d);this.hyperlist=new h(this.hostElement,e)}onToggle(t){const{target:e}=t;if(t.preventDefault(),t.stopPropagation(),!(e instanceof HTMLElement))return;const i=e.getAttribute("data-tree-node-id");if(!i)return;if(!this.model[i].hasChildren)return;const s=this.getContext(i);s.isExpanded=!s.isExpanded,this.nodeToggled.emit({id:i,isExpanded:s.isExpanded}),this.setContext(i,s)}onTreeItemClick(t){const{target:e}=t;if(!(e instanceof HTMLElement))return;const i=e.getAttribute("data-tree-node-id");if(!i)return;const s=this.model[i],o=t.composedPath(),r=o.indexOf(this.hostElement),h=o.slice(0,r);if(!n.d.pathIncludesTrigger(h)){if(!t.defaultPrevented){Object.values(this.context).forEach((t=>t.isSelected=!1));const t=this.getContext(i);t.isSelected=!0,this.setContext(i,t)}if(this.toggleOnItemClick&&s.hasChildren){const t=this.getContext(i);t.isExpanded=!t.isExpanded,this.nodeToggled.emit({id:i,isExpanded:t.isExpanded}),this.setContext(i,t)}this.nodeClicked.emit(i)}}render(){return(0,s.h)(s.H,{key:"ca0d582877d3b2877a1090cc0aeb40f38617cef9",onClick:t=>this.onTreeItemClick(t)},(0,s.h)("slot",{key:"2d8f21165234243b6d2e2f7c99696fc7343d79f2"}))}get hostElement(){return(0,s.g)(this)}static get watchers(){return{model:["onModelChange"]}}};d.style=":host{display:block}"}}]);